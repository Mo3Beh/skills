<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مهارت‌های من</title> <!-- Updated Title -->
    <link rel="icon" type="image/png" href="/mimg/fav.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        /* --- START OF CSS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-color: #333;
            --secondary-color: #121212;
            --accent-color: #FFBF00; /* Yellow */
            --mustard-color: #D4A017; /* Mustard shade */
            --text-color: #f5f5f5;
            --text-dark: #212121; /* Dark text for light backgrounds */
            --card-white: #ffffff;
            --hamburger-color: var(--text-color);
            --overlay-bg: rgba(0, 0, 0, 0.65);
            --accent-color-rgb: 255, 191, 0;
            --shadow-color: rgba(0, 0, 0, 0.15); /* Adjusted shadow */
        }
            
        html { scroll-behavior: smooth; } /* For potential fallback */
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--primary-color);
            color: var(--text-color);
            overflow-x: hidden; /* Prevent body scroll */
            font-size: 16px;
        }
        /* Ensure page wrapper handles potential overflow if needed */
        .page-wrapper {
            position: relative;
            overflow-x: hidden; /* Prevent wrapper scroll */
            min-height: 100vh;
        }

        /* --- START: Navbar, Sidemenu, Overlay Styles (Adapted from contactme.html) --- */
        .navbar {
            position: fixed;
            top: 0;
            right: 0; /* Start on the right for RTL */
            width: 80px;
            height: 100vh;
            background-color: var(--secondary-color); /* Use theme color */
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: width 0.3s ease, background-color 0.3s ease;
            box-shadow: -2px 0 10px rgba(0,0,0,0.2); /* Adjusted shadow */
        }
        .logo-container { padding: 20px 0; display: flex; justify-content: center; }
        .logo { width: 45px; height: 45px; border-radius: 50%;  display: flex; align-items: center; justify-content: center; color: var(--secondary-color); font-weight: bold; font-size: 1.2rem; } /* Simple placeholder */

        .hamburger {
            cursor: pointer;
            margin-top: 100px; /* Position hamburger lower */
            padding: 120px;
            position: relative;
            z-index: 101;
            border: none; /* Ensure it's a button */
            background: none;
        }
        .hamburger-line {
            width: 30px; height: 3px;
            background-color: var(--hamburger-color);
            margin: 6px 0;
            transition: transform 0.3s, opacity 0.3s, background-color 0.3s ease;
        }
        /* Hamburger animation */
        .expanded .hamburger-line:nth-child(1) { transform: translateY(9px) rotate(45deg); }
        .expanded .hamburger-line:nth-child(2) { opacity: 0; }
        .expanded .hamburger-line:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }

        .side-menu {
            position: fixed;
            top: 0;
            right: 80px; /* Position next to navbar */
            width: 0; /* Start hidden */
            height: 100vh;
            background-color: var(--secondary-color); /* Match navbar */
            z-index: 99;
            overflow: hidden;
            transition: width 0.3s ease, background-color 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-left: 1px solid rgba(255, 255, 255, 0.1); /* Subtle separation */
        }
        .side-menu.expanded { width: 250px; }

        .menu-links { text-align: center; width: 100%; }
        .menu-links a {
            display: block; padding: 15px; text-decoration: none;
            color: var(--text-color); font-size: 1.1rem; /* Slightly smaller font */
            margin: 8px 0; /* Reduced margin */
            transition: transform 0.3s ease, color 0.3s ease, background-color 0.2s ease;
            border-radius: 5px;
             margin-right: 10px; /* Indent links slightly */
             margin-left: 10px;
        }
        /* Active link styling (optional, can be added via JS if needed) */
        /* .menu-links a.active { font-weight: bold; color: var(--accent-color); background-color: rgba(255, 191, 0, 0.1); } */
        .menu-links a:hover {
             /* Shift left for RTL hover */
            transform: translateX(-8px);
            color: var(--accent-color);
            background-color: rgba(255, 255, 255, 0.05);
        }

        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--overlay-bg);
            z-index: 98; opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0s linear 0.3s;
        }
        .overlay.active { opacity: 1; visibility: visible; transition: opacity 0.3s ease; }

        /* --- Content Container for Shifting --- */
        .content-container {
            /* On Desktop: Push content to the left of the navbar */
            margin-right: 80px;
            padding: 0; /* Remove padding, sections handle their own */
            min-height: 100vh;
            transition: transform 0.3s ease;
            z-index: 1;
            width: calc(100% - 80px); /* Key for layout */
            box-sizing: border-box;
            position: relative; /* Needed for potential absolute children within sections */
        }
        .content-container.shifted {
            /* Shift content left when menu is open */
            transform: translateX(-250px);
        }
        /* --- END: Navbar, Sidemenu, Overlay Styles --- */


        /* Loader Styles (Unchanged) */
        .loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; display: flex; justify-content: center; align-items: center; z-index: 1000; transition: opacity 0.4s ease, visibility 0s 0.4s linear; visibility: visible; opacity: 1; }
        .loader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .loader-content { display: flex; flex-direction: column; align-items: center; }
        .loader-spinner { width: 50px; height: 50px; border: 5px solid rgba(255, 255, 255, 0.1); border-radius: 50%; border-top-color: var(--accent-color); animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Fixed Navigation (REMOVED) */
        /* .fixed-nav { ... } */
        /* .nav-dot { ... } */
        /* .nav-dot.active { ... } */

        /* General Section Styling */
        .section {
            min-height: 100vh; /* Ensure sections take at least viewport height */
            position: relative;
            overflow: hidden; /* Important for containing elements and pinning */
            padding: 80px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
             /* Add background color to ensure visibility when shifted */
             background-color: var(--section-bg, var(--primary-color)); /* Default to primary */
        }
        /* Assign specific backgrounds if needed */
         #hero { --section-bg: #1a1a2e; }
         #about { --section-bg: #1a1a1a; }
         #skills { --section-bg: var(--primary-color); } /* Default, but explicit */
         #games-section { --section-bg: #121212; /* Match its gradient base */ }
         #skills-parallax { --section-bg: #0d1117; /* Placeholder bg if image fails */ }
         #projects { --section-bg: #0d0d0d; }
         #contact { --section-bg: #0a0a0a; }

        /* Exception for skills section height on desktop */
        @media (min-width: 769px) {
            #skills.section {
                 min-height: auto;
                 height: 100vh;
                 align-items: flex-start;
                 padding-top: 150px;
            }
        }

        .container { width: 90%; max-width: 1200px; margin: 0 auto; position: relative; z-index: 2; }
        h1, h2, h3 { line-height: 1.3; }
        p { line-height: 1.7; font-size: 1rem; }

        /* Hero Section (Adjust background position) */
        #hero { text-align: center; }
        .hero-content { position: relative; z-index: 2; }
        .hero-title { font-size: 4rem; margin-bottom: 20px; opacity: 0; transform: translateY(30px); transition: opacity 1s ease, transform 1s ease; }
        .hero-subtitle { font-size: 1.3rem; margin-bottom: 30px; opacity: 0; transform: translateY(30px); transition: opacity 1s ease 0.2s, transform 1s ease 0.2s; }
        .hero-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; background-color: transparent; /* Let section handle color */ } /* Vanta attaches here */
        .floating-shapes { position: absolute; width: 100%; height: 100%; top: 0; left: 0; overflow: hidden; z-index: 1; pointer-events: none; }
        .shape { position: absolute; background-color: rgba(255, 255, 255, 0.08); border-radius: 50%; animation: float 15s infinite linear alternate; bottom: -80px; }
        @keyframes float { 0% { transform: translateY(0) rotate(0deg); opacity: 0.1; } 50% { opacity: 0.5; } 100% { transform: translateY(-120vh) rotate(180deg); opacity: 0.1; } }

        /* About Section (Unchanged styles, within new container) */
     
        .about-grid { display: grid; grid-template-columns: 1fr; gap: 40px; align-items: center; }
        .about-text { opacity: 0; transform: translateY(50px); transition: all 0.8s ease; text-align: center; }
        .about-image-container { display: flex; justify-content: center; align-items: center; }
        .about-image { position: relative; width: 80%; max-width: 350px; aspect-ratio: 1 / 1; opacity: 0; transform: translateY(50px); transition: all 0.8s ease; }
        .about-image-inner { position: absolute; width: 100%; height: 100%; background-color: var(--accent-color); border-radius: 15px; transform-origin: center; transition: all 1s ease; background-image: url('/mimg/1.png'); background-size: cover; background-position: center; }
        .about-title { font-size: 2.2rem; margin-bottom: 20px; color: var(--accent-color); }

        /* Skills Section (Unchanged inner styles) */
            /* --- Skills Section - UPDATED STYLES --- */
            #skills.section {
            /* Override general section bg */
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--mustard-color) 100%);
             --section-bg: transparent; /* Prevent default fallback */
             color: var(--text-dark); /* Dark text on light background */
        }
        .skills-container { position: relative; padding: 0; width: 100%; }
        .skills-title {
            font-size: 2.2rem; margin-bottom: 40px; text-align: center;
            opacity: 0; transform: translateY(30px); transition: all 0.8s ease;
            color: var(--text-dark); /* Dark title */
        }
        .horizontal-scroll-container { width: 100%; overflow-x: hidden; -webkit-overflow-scrolling: touch; padding: 20px 0; cursor: grab; }
        .horizontal-scroll-container:active { cursor: grabbing; }
        .horizontal-scroll { display: flex; gap: 25px; width: max-content; padding: 0 15px; position: relative; }

        .skill-card {
            width: 280px;
            background-color: var(--card-white); /* Solid white background */
            border-radius: 15px; padding: 25px; /* Slightly more padding */
            display: flex; flex-direction: column; justify-content: flex-start;
            position: relative; overflow: hidden;
            backdrop-filter: none; /* Remove blur */
            border: none; /* Remove original border */
            box-shadow: 0 8px 25px var(--shadow-color); /* Add shadow */
            opacity: 0; transform: translateY(50px);
            transition: opacity 0.5s ease, transform 0.5s ease, box-shadow 0.3s ease; /* Added shadow transition */
            text-align: center; flex-shrink: 0;
            color: var(--text-dark); /* Dark text inside card */
        }
        .skill-card:hover {
             /* Keep white bg, lift effect */
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.2); /* Enhanced shadow */
        }
        .skill-image {
            width: 70px; height: 70px; border-radius: 10px; display: block;
            margin: 0 auto 20px auto; /* Increased bottom margin */
            object-fit: contain;
            filter: none; /* Remove grayscale filter */
            transition: transform 0.3s ease; /* Add transform transition */
        }
        .skill-card:hover .skill-image {
             /* Optional: slightly scale image on hover */
             transform: scale(1.1);
        }
        .skill-content { flex-grow: 1; display: flex; flex-direction: column; }
        .skill-title {
            font-size: 1.2rem; margin-bottom: 10px; font-weight: bold;
            color: var(--text-dark); /* Explicitly dark */
        }
        .skill-card p {
            font-size: 0.9rem; line-height: 1.5; margin-bottom: auto; padding-bottom: 15px;
            color: var(--text-dark); /* Explicitly dark */
            opacity: 0.8; /* Slightly muted description */
        }
        .skill-bar {
             width: 100%; height: 6px;
             background-color: rgba(0, 0, 0, 0.1); /* Light grey bar background */
             border-radius: 3px; margin-top: auto; overflow: hidden;
        }
        .skill-progress {
            height: 100%; background-color: var(--mustard-color); /* Use mustard for progress */
            width: 0; transition: width 1.5s ease 0.3s; border-radius: 3px;
        }
        /* --- END Skills Section Update --- */

        /* Skills Parallax Section (Unchanged inner styles) */
        .skills-parallax { min-height: 100vh; padding: 100px 0; background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('https://images.unsplash.com/photo-1518770660439-4636190af475?q=70&fm=webp&w=1000') center/cover; background-attachment: scroll; position: relative; display: flex; flex-direction: column; align-items: center; gap: 30px; overflow: visible; }
        .skills-parallax.B { background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.8)), url('https://images.pexels.com/photos/1752757/pexels-photo-1752757.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1') center/cover; background-attachment: scroll; }
        .parallax-content-wrapper { width: 90%; max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; gap: 30px; position: relative; z-index: 2; }
        .skill-item, .programming-card { padding: 25px; background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(10px); border-radius: 15px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); opacity: 0; transform: translateY(50px); transition: opacity 0.8s ease, transform 0.8s ease; width: 90%; max-width: 350px; text-align: center; position: relative; left: auto; top: auto; z-index: 1; }
        .skill-item { display: flex; align-items: center; gap: 15px; }
        .skill-item-content { text-align: right; flex-grow: 1; }
        .skill-item img.skill-image { width: 50px; height: 50px; margin: 0; flex-shrink: 0; filter: none; }
        .skill-item h3 { color: var(--accent-color); font-size: 1.5rem; margin: 0 0 8px 0; }
        .skill-item p { font-size: 0.95rem; line-height: 1.6; margin: 0; }
        .programming-card { margin-top: 20px; border: 1px solid var(--accent-color); }
        .programming-card h3 { color: var(--accent-color); font-size: 1.6rem; margin-bottom: 10px; }
        .programming-card p { font-size: 1rem; line-height: 1.6; }

        /* Projects Section (Unchanged inner styles) */
        #projects { /* background handled by .section */ padding: 80px 15px; }
        .projects-title { font-size: 2.2rem; margin-bottom: 40px; text-align: center; opacity: 0; transform: translateY(30px); transition: all 0.8s ease; color: var(--accent-color); }
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; margin-top: 2rem; }
        .project-card { position: relative; height: 280px; border-radius: 15px; overflow: hidden; opacity: 0; transform: translateY(50px); transition: all 0.5s ease; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); background-color: #222; }
        .project-card:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4); }
        .project-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #333; background-size: cover; background-position: center; transition: transform 0.5s ease, filter 0.5s ease; filter: brightness(0.7); }
        .project-content { position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px; background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 20%, transparent 100%); transform: translateY(50%); opacity: 0; transition: transform 0.5s ease, opacity 0.5s ease; color: #fff; }
        .project-card:hover .project-image { transform: scale(1.05); filter: brightness(0.9); }
        .project-card:hover .project-content { transform: translateY(0); opacity: 1; }
        .project-title { font-size: 1.4rem; margin-bottom: 8px; font-weight: bold; }
        .project-card p { font-size: 0.9rem; line-height: 1.4; }

        /* Contact Section */
        #contact { /* background handled by .section */ padding: 80px 15px; }
        .contact-content { display: flex; flex-direction: column; align-items: center; text-align: center; width: 100%; }
        .contact-title { font-size: 2.2rem; margin-bottom: 40px; opacity: 0; transform: translateY(30px); transition: all 0.8s ease; color: var(--accent-color); }

        /* START: ID Card Styles */
        .id-card {
            background: linear-gradient(135deg, var(--mustard-color) 0%, var(--accent-color) 100%);
            color: var(--text-dark);
            border-radius: 15px;
            padding: 30px 40px;
            width: 90%;
            max-width: 550px; /* Increased max-width */
            margin: 20px auto 0 auto; /* Spacing from title, centered */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            opacity: 0; /* For GSAP animation */
            transform: translateY(30px); /* For GSAP animation */
            transition: opacity 0.8s ease 0.4s, transform 0.8s ease 0.4s; /* Match form animation */
        }
        .id-card-title {
            font-size: 1.6rem; /* Slightly larger */
            font-weight: bold;
            margin-bottom: 30px;
            text-align: center;
            color: var(--text-dark);
        }
        .social-links {
            display: flex;
            flex-direction: column;
            gap: 18px; /* Increased gap */
            align-items: stretch; /* Make links take full width */
        }
        .social-link {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 20px; /* Increased padding */
            background-color: rgba(255, 255, 255, 0.2); /* Slightly visible background */
            border-radius: 10px; /* Smoother radius */
            text-decoration: none;
            color: var(--text-dark);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .social-link:hover {
            background-color: rgba(255, 255, 255, 0.35);
            transform: translateY(-3px) scale(1.02); /* More noticeable hover */
            box-shadow: 0 5px 10px rgba(0,0,0,0.15);
        }
        .social-icon {
            width: 30px; /* Slightly larger icon */
            height: 30px;
            flex-shrink: 0; /* Prevent icon from shrinking */
            /* Ensure icons inherit a contrasting color or use specific colored SVGs */
            filter: brightness(0.1); /* Make white SVGs dark */
        }
        .social-username {
            font-size: 1.1rem; /* Larger username */
            font-weight: 500;
            flex-grow: 1; /* Allow username to take remaining space */
            text-align: right; /* Align text to the right */
        }
        /* END: ID Card Styles */

        /* Footer (Unchanged) */
        footer { text-align: center; padding: 25px 15px; background-color: #000; position: relative; z-index: 10; border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .footer-text { font-size: 0.85rem; opacity: 0.6; }

        /* Scroll Lines (Unchanged) */
        .scroll-line { position: absolute; width: 1px; height: 0; background: linear-gradient(to bottom, transparent, rgba(var(--accent-color-rgb), 0.5), transparent); top: 0; opacity: 0.3; z-index: 1; pointer-events: none; }

        /* Game Section Styles (Unchanged inner styles) */
        #games-section { /* background handled by .section */ min-height: 100vh; padding: 80px 15px 40px 15px; box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.05); display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; position: relative; overflow: hidden; }
        .game-container { position: relative; z-index: 1; width: 100%; max-width: 800px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; }
        .game-title { font-size: 2rem; margin-bottom: 30px; color: white; font-weight: bold; }
        .letter-boxes { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; width: 100%; flex-wrap: wrap; }
        .letter-box { width: 60px; height: 60px; border: 2px solid var(--accent-color); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: bold; background-color: rgba(255, 255, 255, 0.05); color: white; transition: all 0.3s; backdrop-filter: blur(5px); flex-shrink: 0; }
        .letter-box.correct { background-color: rgba(var(--accent-color-rgb), 0.7); border-color: rgba(var(--accent-color-rgb), 0.9); color: #121212; animation: pulse 0.5s ease-out; }
        .game-message { margin: 20px 0; font-size: 1.1rem; color: white; min-height: 25px; transition: opacity 0.3s; opacity: 1; }
        .game-message:empty { opacity: 0; }
        .win-message { color: var(--accent-color); font-weight: bold; font-size: 1.3rem; margin-top: 15px; display: none; }
        .used-letters { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin-top: 25px; max-width: 90%; min-height: 30px; }
        .used-letter { width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; font-size: 1rem; background-color: rgba(255, 255, 255, 0.1); border-radius: 6px; color: rgba(255, 255, 255, 0.7); backdrop-filter: blur(5px); }
        .hint-button { position: relative; width: 40px; height: 40px; background-color: rgba(var(--accent-color-rgb), 0.1); border: 2px solid var(--accent-color); border-radius: 8px; display: flex; justify-content: center; align-items: center; color: var(--accent-color); font-size: 1.5rem; cursor: pointer; transition: background-color 0.3s; margin-top: 25px; }
        .hint-button:hover { background-color: rgba(var(--accent-color-rgb), 0.2); }
        .hint-tooltip { visibility: hidden; opacity: 0; width: 220px; background-color: rgba(18, 18, 18, 0.95); color: white; text-align: center; border-radius: 6px; padding: 12px; position: absolute; z-index: 10; bottom: 125%; left: 50%; transform: translateX(-50%); transition: opacity 0.3s, visibility 0s 0.3s linear; pointer-events: none; font-size: 0.9rem; line-height: 1.5; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .hint-tooltip strong { display: block; font-weight: bold; margin-bottom: 8px; color: var(--accent-color); font-size: 1rem; }
        .hint-button:hover .hint-tooltip { visibility: visible; opacity: 1; transition: opacity 0.3s; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* Virtual Keyboard Styles (Unchanged inner styles) */
        .virtual-keyboard { display: flex; flex-wrap: wrap; justify-content: center; gap: 5px; margin-top: 30px; padding: 10px; max-width: 100%; background-color: rgba(0,0,0,0.2); border-radius: 8px;  }
        .keyboard-row { display: flex; justify-content: center; width: 100%; margin-bottom: 5px; gap: 5px; }
        .key { padding: 10px 0; width: 28px; height: 45px; font-size: 1.2rem; font-family: 'Vazirmatn', sans-serif; background-color: rgba(255, 255, 255, 0.1); color: var(--text-color); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 5px; cursor: pointer; transition: background-color 0.2s, transform 0.1s; display: flex; justify-content: center; align-items: center; flex-shrink: 0; user-select: none; -webkit-tap-highlight-color: transparent; }
        .key:active { background-color: rgba(var(--accent-color-rgb), 0.3); transform: scale(0.95); }
        @media (min-width: 769px) { .virtual-keyboard { display: none; } }

        /* Call Section Styles (Unchanged inner styles) */
        .call-section { width: 100%; max-width: 1000px; background-color: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 20px; transform: scaleY(0) translateY(20px); transform-origin: top; opacity: 0; transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.5s ease-in-out; backdrop-filter: blur(10px); display: flex; flex-direction: column; gap: 20px; margin-top: 30px; position: relative; z-index: 5; border: 1px solid rgba(255, 255, 255, 0.1); }
        .call-section.active { transform: scaleY(1) translateY(0); opacity: 1; }
        .call-block { width: 100%; background-color: rgba(255, 255, 255, 0.05); border: 1px solid rgba(var(--accent-color-rgb), 0.3); border-radius: 12px; padding: 20px; text-align: center; transition: all 0.3s ease; display: flex; flex-direction: column; align-items: center; }
        .call-block:hover { background-color: rgba(var(--accent-color-rgb), 0.1); transform: scale(1.03); border-color: rgba(var(--accent-color-rgb), 0.5); }
        .call-block img { width: 60px; height: 60px; margin-bottom: 15px; object-fit: contain; border-radius: 50%; background-color: rgba(var(--accent-color-rgb), 0.15); padding: 5px; }
        .call-block h3 { margin: 0 0 8px 0; color: var(--accent-color); font-size: 1.2rem; }
        .call-block p { color: rgba(255, 255, 255, 0.9); font-size: 0.95rem; line-height: 1.6; }


        /* --- Media Queries --- */

        /* Tablet and Larger Mobiles */
        @media (min-width: 600px) {
            .letter-box { width: 70px; height: 70px; font-size: 2.5rem; }
            .used-letter { width: 40px; height: 40px; font-size: 1.1rem; }
            .call-section { padding: 30px; flex-direction: row; flex-wrap: wrap; justify-content: center; }
            .call-block { width: calc(50% - 15px); }
            .key { width: 40px; height: 50px; font-size: 1.3rem; }
        }

        /* Tablet - Desktop Breakpoint */
        @media (min-width: 769px) {
             body { font-size: 17px; }
             /* Navbar/Sidemenu/Content remain fixed right/shifted */

             .section { padding: 100px 0; } /* Restore general padding */
             #skills.section { padding: 150px 0 100px 0; align-items: flex-start; } /* Keep specific padding */

            .hero-title { font-size: 5rem; }
            .hero-subtitle { font-size: 1.5rem; }

            .about-grid { grid-template-columns: repeat(2, 1fr); gap: 50px; }
            .about-text { text-align: right; transform: translateX(50px); }
            .about-image-container { justify-content: flex-start; }
            .about-image { width: 100%; max-width: 400px; transform: translateX(-50px); }

            .skills-title, .projects-title, .contact-title { font-size: 2.5rem; margin-bottom: 50px; }
             #contact .contact-title { margin-bottom: 40px; } /* Keep contact title margin smaller */

            /* PARALLAX DESKTOP STYLES (Unchanged) */
            .skills-parallax { background-attachment: fixed; min-height: 180vh; padding: 0; display: block; gap: 0; }
            .skills-parallax.B { background-attachment: fixed; }
            .parallax-content-wrapper { position: static; display: block; width: 100%; max-width: none; gap: 0; }
            .skill-item, .programming-card { position: absolute; width: 300px; max-width: 300px; text-align: right; z-index: 5; opacity: 0; transform: translateY(100px); margin: 0; display: block; align-items: initial; gap: 0; }
            .skill-item img.skill-image { width: 100px; height: 100px; display: block; margin: 0 auto 10px; flex-shrink: initial; }
            .skill-item-content { text-align: right; }
            .skill-1 { left: 20%; top: 15%; }
            .skill-2 { left: 60%; top: 30%; }
            .skill-3 { left: 30%; top: 55%; }
            .programming-card { left: 65%; top: 75%; z-index: 10; }

            /* Other desktop styles (unchanged) */
            .skill-card { width: 320px; } .skill-image { width: 80px; height: 80px; } .skill-card p { font-size: 1rem; } .skill-title { font-size: 1.3rem; }
            #projects { padding: 100px 30px; } .project-card { height: 300px; } .project-title { font-size: 1.5rem; }
            #contact { padding: 100px 30px; }
            /* ID card desktop */
            .id-card { padding: 40px 50px; max-width: 600px; }
            .id-card-title { font-size: 1.8rem; }
            .social-icon { width: 35px; height: 35px; }
            .social-username { font-size: 1.2rem; }

            .game-title { font-size: 2.5rem; } .letter-box { width: 90px; height: 90px; font-size: 3.5rem; gap: 15px; } .used-letter { width: 50px; height: 50px; font-size: 1.5rem; } .hint-button { width: 50px; height: 50px; font-size: 1.8rem; } .hint-tooltip { width: 250px; font-size: 1rem; }
            .call-block { width: calc(33.333% - 20px); } .call-block img { width: 70px; height: 70px; } .call-block h3 { font-size: 1.4rem; } .call-block p { font-size: 1rem; }
        }

        /* Mobile Breakpoint (< 769px) - Bottom Navbar */
        @media (max-width: 768px) {
            .navbar {
                top: auto; /* Move to bottom */
                bottom: 0;
                right: 0; /* Span full width */
                width: 100%;
                height: 65px; /* Slightly taller */
                flex-direction: row; /* Align items horizontally */
                justify-content: space-between; /* Space out logo and hamburger */
                padding: 0 20px; /* Padding */
                box-shadow: 0 -2px 10px rgba(0,0,0,0.2); /* Shadow on top */
            }
            .logo-container { padding: 5px 0; }
            .logo { width: 40px; height: 40px; font-size: 1rem; }
            .hamburger { margin-top: 0; padding: 10px; }

            .side-menu {
                top: auto; /* Position relative to bottom navbar */
                bottom: 65px; /* Sit above navbar */
                right: 0;
                width: 100%; /* Full width */
                height: 0; /* Start collapsed */
                transition: height 0.3s ease; /* Animate height */
                border-left: none; /* No left border needed */
                border-top: 1px solid rgba(255, 255, 255, 0.1); /* Top border */
            }
            .side-menu.expanded {
                width: 100%;
                height: calc(100vh - 65px); /* Take remaining height */
                max-height: 350px; /* Limit height */
                justify-content: flex-start; /* Align links top */
                padding-top: 20px;
                overflow-y: auto; /* Allow scrolling if links exceed max-height */
            }
             .menu-links a { font-size: 1.2rem; margin: 10px 20px; } /* Adjust link styling */

            .content-container {
                width: 100%; /* Full width */
                margin-right: 0; /* No margin needed */
                padding: 0 0 65px 0; /* Add padding at the bottom to avoid navbar overlap */
                min-height: calc(100vh - 65px); /* Adjust min-height */
            }
            .content-container.shifted {
                transform: none; /* No shifting on mobile */
            }
            .overlay { z-index: 98; /* Ensure overlay is below menu */ }

            /* Adjust project card content visibility on mobile */
            .project-content {
                transform: translateY(0) !important;
                opacity: 1 !important;
                background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 40%, transparent 100%); /* Make gradient stronger */
            }
            .project-card:hover .project-image {
                 transform: none; /* Disable image zoom on mobile hover */
                 filter: brightness(0.7); /* Keep brightness consistent */
            }

             /* ID Card mobile */
             .id-card { padding: 25px; max-width: 95%; }
             .id-card-title { font-size: 1.4rem; margin-bottom: 25px; }
             .social-links { gap: 15px; }
             .social-link { padding: 10px 15px; }
             .social-icon { width: 28px; height: 28px; }
             .social-username { font-size: 1rem; }

        }
         /* Very Small Screens */
         @media (max-width: 400px) {
            .id-card { padding: 20px; }
            .id-card-title { font-size: 1.3rem; }
            .social-links { gap: 12px; }
            .social-link { padding: 8px 12px; gap: 10px; }
            .social-icon { width: 24px; height: 24px; }
            .social-username { font-size: 0.95rem; }
        }

        /* Larger Desktops */
        @media (min-width: 1200px) {
            .container { width: 85%; max-width: 1300px; } /* Slightly wider container */
             #skills.section { padding-top: 180px; }
            .hero-title { font-size: 5.5rem; }
            /* Adjust parallax positions (Unchanged) */
            .skill-1 { left: 25%; top: 15%; } .skill-2 { left: 65%; top: 35%; } .skill-3 { left: 30%; top: 60%; } .programming-card { left: 70%; top: 80%; } /* Removed skill-5 reference */
            .letter-box { width: 100px; height: 100px; font-size: 4rem; gap: 20px; }
            /* ID Card Large Desktop */
            .id-card { max-width: 650px; }
        }
        /* .my-way and .why-card are removed as they seem like remnants */

        .logo {
            width: 80px;
            height: 80px;
        }
        @media (max-width: 768px) {
                    
        .hero-title {
            font-size: 3rem;
        }
    }

            /* Virtual Keyboard Styles (Unchanged inner styles) */
            .virtual-keyboard {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            margin-top: 30px;
            padding: 10px;
            max-width: 100%;
            background-color: rgba(0,0,0,0.2);
            border-radius: 8px;
            transform: scale(0.85); /* ADD THIS LINE */
        }
        /* ... rest of the keyboard styles (.keyboard-row, .key) remain the same ... */

        @media (min-width: 769px) {
             /* This rule hides it on desktop, so the scale above only affects mobile */
            .virtual-keyboard { display: none; }
        }
        /* --- END OF CSS --- */
    </style>
      <!-- Libraries -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
</head>
<body>
    <!-- Page Wrapper for potential structural needs -->
    <div class="page-wrapper">

        <!-- Loader -->
        <div class="loader"> <div class="loader-content"> <div class="loader-spinner"></div> <p>در حال بارگذاری...</p> </div> </div>

        <!-- START: Navbar HTML -->
        <nav class="navbar">
             <div class="logo-container">
                <img class="logo" src="/logo.png" alt="">
             </div>
             <!-- Theme Toggle Removed -->
             <button class="hamburger" aria-label="Toggle menu" aria-expanded="false">
                 <div class="hamburger-line"></div>
                 <div class="hamburger-line"></div>
                 <div class="hamburger-line"></div>
             </button>
        </nav>
        <aside class="side-menu">
             <nav class="menu-links">
                 <!-- Update links to target section IDs -->
                 <a href="/index.html">صفحه اصلی</a>
                 <a href="/about/index">درباره من</a>
                 <a href="/skills/index.html">مهارت‌ها</a>
                 <a href="/projects/index.html">علایق</a> <!-- Changed from نمونه کارها -->
                 <a href="/contact/index.html">تماس با من</a>
             </nav>
        </aside>
        <div class="overlay"></div>
        <!-- END: Navbar HTML -->

        <!-- Main Content Area (Sections wrapped) -->
        <main class="content-container">

            <!-- Hero Section -->
            <section id="hero" class="section">
                 <div class="hero-bg"></div> <!-- Vanta target -->
                 <div class="floating-shapes"></div>
                 <div class="container"> <div class="hero-content"> <h1 class="hero-title">مهارت و علایق من</h1> <p class="hero-subtitle">طراح و توسعه‌دهنده وب | علاقه‌مند به هوشمندسازی</p> </div> </div>
            </section>

            <!-- About Section -->
            <section id="about" class="section"> 
                <div class="container"> 
                  <div class="about-grid"> 
                    <div class="about-text"> 
                      <h2 class="about-title">درباره من</h2> 
                      <p>من مصطفی بهنام‌فر، با بیش از ۵ سال تجربه در طراحی و توسعه وب، متخصص در ایجاد تجربه‌های کاربری جذاب و تعاملی هستم. به کدنویسی تمیز و اصولی باور دارم و همواره در جستجوی یادگیری و به‌کارگیری فناوری‌های نوین هستم.</p> 
                      <br> 
                      <p>در نگاه من، هر پروژه داستانی منحصربه‌فرد است که باید به بهترین شکل روایت شود. ترکیب خلاقیت و فناوری را ابزاری قدرتمند می‌دانم که نه‌تنها به خلق طراحی‌های زیبا، بلکه به ارائه راه‌حل‌های کاربردی و نوآورانه منجر می‌شود.</p> 
                    </div> 
                    <div class="about-image-container"> 
                      <div class="about-image"> 
                        <div class="about-image-inner"></div> 
                      </div> 
                    </div> 
                  </div> 
                </div> 
              </section>
              

            <!-- Skills Section -->
            <section id="skills" class="section">
                <div class="skills-container">
                    <h2 class="skills-title">مهارت‌های من</h2>
                    <div class="horizontal-scroll-container">
                        <div class="horizontal-scroll">
                            <!-- Skill Cards (Add loading="lazy" to images) -->
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg" alt="Python" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">Python</h3> <p>توسعه ابزار و بات‌های قدرتمند درهوشمندسازی.</p> <div class="skill-bar"> <div class="skill-progress" data-width="80"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/6/61/HTML5_logo_and_wordmark.svg" alt="HTML5" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">HTML5</h3> <p>ساختار مدرن و معنایی وب.</p> <div class="skill-bar"> <div class="skill-progress" data-width="95"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/d/d5/CSS3_logo_and_wordmark.svg" alt="CSS3" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">CSS3</h3> <p>طراحی واکنش‌گرا و انیمیشن.</p> <div class="skill-bar"> <div class="skill-progress" data-width="90"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/JavaScript-logo.png" alt="JavaScript" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">JavaScript</h3> <p>تعاملات پویا و منطق فرانت‌اند.</p> <div class="skill-bar"> <div class="skill-progress" data-width="85"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg" alt="React" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">React</h3> <p>ساخت رابط‌های کاربری کامپوننت‌محور.</p> <div class="skill-bar"> <div class="skill-progress" data-width="70"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Adobe_Photoshop_CC_icon.svg/640px-Adobe_Photoshop_CC_icon.svg.png" alt="Photoshop" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">Adobe Photoshop</h3> <p>ساخت و طراحی گرافیکی مدرن</p> <div class="skill-bar"> <div class="skill-progress" data-width="95"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Adobe_Illustrator_CC_icon.svg/640px-Adobe_Illustrator_CC_icon.svg.png" alt="Illustrator" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">Adobe Illustrator</h3> <p>تعامل و ساخت عناصر باکیفیت</p> <div class="skill-bar"> <div class="skill-progress" data-width="90"></div> </div> </div> </div>
                            <div class="skill-card"> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Adobe_Premiere_Pro_CC_icon.svg/640px-Adobe_Premiere_Pro_CC_icon.svg.png" alt="Premiere" class="skill-image" loading="lazy"> <div class="skill-content"> <h3 class="skill-title">Adobe Premiere</h3> <p>کار و ساخت ویرایش ‌های ویدویی </p> <div class="skill-bar"> <div class="skill-progress" data-width="90"></div> </div> </div> </div>

                        </div>
                    </div>
                </div>
            </section>



            <!-- Skills Parallax Section -->
            <section id="skills-parallax" class="skills-parallax section"> <!-- Add .section for structure -->
                 <div class="parallax-content-wrapper">
                    <div class="skill-item skill-1"> <img src="https://api.iconify.design/mdi:code-braces.svg?color=%23ffbf00" alt="فرانت‌اند" class="skill-image" loading="lazy"> <div class="skill-item-content "> <h3>توسعه و طراحی  وب‌سایت </h3> <p>رابط‌های کاربری مدرن برای کاربری‌های مختلف مثل سایت‌های تجاری، اطلاع رسانی و فروشگاه.</p> </div> </div>
                    <div class="skill-item skill-2"> <img src="https://api.iconify.design/mdi:palette-swatch-outline.svg?color=%23ffbf00" alt="طراحی UI/UX" class="skill-image" loading="lazy"> <div class="skill-item-content skill-2"> <h3>طراحی گرافیکی-ویدیویی</h3> <p>تجربه‌های کاربری شهودی با Figma و Adobe.</p> </div> </div>
                    <div class="skill-item skill-3"> <img src="https://api.iconify.design/mdi:server-network.svg?color=%23ffbf00" alt="بک‌اند" class="skill-image" loading="lazy"> <div class="skill-item-content"> <h3>توسعه پایتون</h3> <p>دیتا آنالیز و ساخت بات‌ها و فعالیت هوشمندسازی</p> </div> </div>
                    <div class="programming-card"> <h3>فراتر از وب</h3> <p>کاوش در هوش‌مصنوعی، توسعه و آموزش فناوری دیجیتال.</p> </div>
                 </div>
            </section>

                         <!-- Word Game Section -->
                         <section id="games-section" class="section">
                            <div class="game-container">
                                <h2 class="game-title">یک کلمه، یک دنیا علاقه: با هم کشف کنیم؟!</h2>
                                <div class="letter-boxes">
                                  <div class="letter-box" data-index="0"></div> <div class="letter-box" data-index="1"></div> <div class="letter-box" data-index="2"></div> <div class="letter-box" data-index="3"></div>
                                </div>
                                <div class="game-message">برای شروع، حروف را با کیبورد فارسی تایپ کنید...</div>
                                <div class="win-message">تبریک! کلمه "بازی" بود. این یکی از بزرگترین علایق منه!</div>
                                <div class="used-letters"></div>
                                <div class="virtual-keyboard" id="gameKeyboard"></div>
                                <div class="hint-button"> ? <div class="hint-tooltip"> <strong>راهنمایی:</strong> <p style="margin: 0;">فریدریش نیچه: «در مرد واقعی، کودکی پنهان است که می‌خواهد .... کند.»</p> </div> </div>
                                <div class="call-section">
                                    <div class="call-block"> <img src="https://api.iconify.design/mdi:controller-classic.svg?color=%23ffbf00" alt="بازی‌وار سازی" loading="lazy"/> <h3>بازی‌وار سازی (Gamification)</h3> <p>علاقه‌مند به تبدیل فرآیندها به تجربیات جذاب و انگیزشی.</p> </div>
                                    <div class="call-block"> <img src="https://api.iconify.design/mdi:lightbulb-on-outline.svg?color=%23ffbf00" alt="تحقیق بازی" loading="lazy"/> <h3>طراحی و تحقیق بازی</h3> <p>مطالعه مکانیک‌ها، روایت و روانشناسی پشت بازی‌های خوب.</p> </div>
                                    <div class="call-block"> <img src="https://api.iconify.design/mdi:handshake-outline.svg?color=%23ffbf00" alt="همکاری" loading="lazy"/> <h3>دعوت به همکاری</h3> <p>آماده همکاری در پروژه‌های خلاقانه، به‌خصوص با چاشنی بازی!</p> </div>
                                </div>
                            </div>
                        </section>
            <!-- Projects Section -->
            <section id="projects" class="section"> <div class="container"> <h2 class="projects-title">دیگر علایق من</h2> <div class="projects-grid">
                <div class="project-card"> <div class="project-image" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Falcon_Heavy_Side_Boosters_landing_on_LZ1_and_LZ2_-_2018_%2825254688767%29.jpg/1200px-Falcon_Heavy_Side_Boosters_landing_on_LZ1_and_LZ2_-_2018_%2825254688767%29.jpg?20180207112824')" loading="lazy"></div> <div class="project-content"> <h3 class="project-title">علم!</h3> <p>من علاقه شدیدی به پیگیری و دنبال کردن مطالب علمی دارم.</p> </div> </div>
                <div class="project-card"> <div class="project-image" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/f/f0/Bojnourd_nature.png?20250329105053')" loading="lazy"></div> <div class="project-content"> <h3 class="project-title">طبیعت‌گردی</h3> <p>چه چیزی لذت بخش‌تر از گشت و گذار توی طبیعت؟</p> </div> </div>
                <div class="project-card"> <div class="project-image" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/13-11-02-olb-by-RalfR-03.jpg/1200px-13-11-02-olb-by-RalfR-03.jpg?20131106111623')" loading="lazy"></div> <div class="project-content"> <h3 class="project-title">ادبیات و کتاب‌خوانی</h3> <p>
                  شما با یک BookWorm طرف هستید. اشتیاق من به مطالعه کتاب در زمینه‌های مختلف به بی‌نهایت میل می‌کنه.
                </p> </div> </div>
                <div class="project-card"> <div class="project-image" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Man_riding_horse.jpg/1200px-Man_riding_horse.jpg?20230316054144')" loading="lazy"></div> <div class="project-content"> <h3 class="project-title">ورزش متفاوت ؟</h3> <p>سوارکاری و بسکتبال از ورزش‌های مورد‌علاقه من‌اند که مدت زیادی رو صرف اون‌ها می‌کنم.</p> </div> </div>
                <div class="project-card"> <div class="project-image" style="background-image: url('https://kottke.org/cdn-cgi/image/format=auto,fit=scale-down,width=1200,metadata=none/plus/misc/images/feynman-blackboard.jpg')" loading="lazy"></div> <div class="project-content"> <h3 class="project-title">تدریس کردن</h3> <p>یکی از علایق من توضیح دادن و تدریس چیزهای مختلفه. سطح انرژی به مثابه ریچارد فاینمن.</p> </div> </div>
                <div class="project-card"> <div class="project-image" style="background-image: url('https://cdn.honaronline.ir/thumbnail/YTU0YWU0MTli/t455U-vj7HoFiK2lSX4ww6IFYUG8sUEk5_3jCPI962hs4juRDGsPltgpIs3g4bUW/YTU0YWU0MTli.jpg')" loading="lazy"></div> <div class="project-content"> <h3 class="project-title">هنر!</h3> <p>هنرهای مختلفی رو مثل موسیقی، گرافیک،طراحی اسلیمی و هنرهای شنیداری به طور جدی دنبال می‌کنم.</p> </div> </div>
            </div> </div>
        
        </section>
            

            
            <!-- Contact Section - REPLACED -->
            <section id="contact" class="section">
                 <div class="container">
                    <div class="contact-content">
                         <h2 class="contact-title">تماس با من</h2>
                         <!-- Removed contact description paragraph -->

                         <!-- START: New ID Card -->
                         <div class="id-card">
                             <h3 class="id-card-title">راه‌های ارتباطی با من</h3>
                             <div class="social-links">
                                 <a href="https://t.me/Mo3Beh" target="_blank" rel="noopener noreferrer" class="social-link telegram">
                                     <!-- Using Iconify for SVGs - white color, will be darkened by filter -->
                                     <img src="https://api.iconify.design/mdi:telegram.svg?color=%23ffffff" alt="Telegram" class="social-icon">
                                     <span class="social-username">@Mo3Beh</span>
                                 </a>
                                 <a href="https://www.linkedin.com/in/Mo3Beh" target="_blank" rel="noopener noreferrer" class="social-link linkedin">
                                     <img src="https://api.iconify.design/mdi:linkedin.svg?color=%23ffffff" alt="LinkedIn" class="social-icon">
                                     <span class="social-username">@Mo3Beh</span>
                                 </a>
                                 <a href="https://www.instagram.com/Mo3Beh" target="_blank" rel="noopener noreferrer" class="social-link instagram">
                                     <img src="https://api.iconify.design/mdi:instagram.svg?color=%23ffffff" alt="Instagram" class="social-icon">
                                     <span class="social-username">@Mo3Beh</span>
                                 </a>
                                 <a href="https://github.com/Mo3Beh" target="_blank" rel="noopener noreferrer" class="social-link github">
                                     <img src="https://api.iconify.design/mdi:github.svg?color=%23ffffff" alt="GitHub" class="social-icon">
                                     <span class="social-username">@Mo3Beh</span>
                                 </a>
                             </div>
                         </div>
                         <!-- END: New ID Card -->

                         <!-- Removed Form -->
                    </div> <!-- End contact-content -->
                 </div> <!-- End container -->
            </section>


             <!-- Footer should be outside content-container if it shouldn't shift -->
             <!-- But let's keep it inside for simplicity for now -->
             <footer > <p class="footer-text">ساخته شده با عشق فراوان به کد | © ۱۴۰۴</p> </footer>

        </main> <!-- End content-container -->

    </div> <!-- End page-wrapper -->

    <!-- Main Script Block -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Loader ---
            const loader = document.querySelector('.loader');
            setTimeout(() => { loader.classList.add('hidden'); }, 200);

            // --- GSAP & ScrollTrigger Init ---
            gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

            // --- Global Settings ---
            let isMobile = window.innerWidth <= 768; // Use 768px breakpoint for navbar change
            let vantaEffect = null; // Store vanta instance

            // --- START: Navbar JS Logic ---
            const navbar = document.querySelector('.navbar');
            const sideMenu = document.querySelector('.side-menu');
            const hamburger = document.querySelector('.hamburger');
            const overlay = document.querySelector('.overlay');
            const contentContainer = document.querySelector('.content-container');
            const menuLinks = document.querySelectorAll('.side-menu .menu-links a');
            let menuExpanded = false;
            let windowWidth = window.innerWidth;

            function updateMenuState() {
                const isCurrentlyMobile = window.innerWidth <= 768;
                hamburger.classList.toggle('expanded', menuExpanded);
                hamburger.setAttribute('aria-expanded', menuExpanded.toString());
                sideMenu.classList.toggle('expanded', menuExpanded);
                overlay.classList.toggle('active', menuExpanded);

                // Only apply content shift if NOT mobile
                if (!isCurrentlyMobile) {
                    contentContainer.classList.toggle('shifted', menuExpanded);
                } else {
                    // Ensure shift is removed on mobile regardless of menu state
                    contentContainer.classList.remove('shifted');
                }
                 // Optionally disable body scroll when menu is open on mobile
                 // document.body.style.overflow = (menuExpanded && isCurrentlyMobile) ? 'hidden' : '';
            }

            function toggleMenu() {
                menuExpanded = !menuExpanded;
                updateMenuState();
            }

            function closeMenu() {
                if (menuExpanded) {
                    menuExpanded = false;
                    updateMenuState();
                }
            }

            function updateWindowWidthLogic() {
                 windowWidth = window.innerWidth;
                 const newIsMobile = windowWidth <= 768;
                 if (newIsMobile !== isMobile) {
                     isMobile = newIsMobile;
                     // If resizing from desktop to mobile with menu open, remove shift
                     if (isMobile && menuExpanded) {
                          contentContainer.classList.remove('shifted');
                     }
                     // If resizing from mobile to desktop with menu open, add shift back
                     else if (!isMobile && menuExpanded) {
                         contentContainer.classList.add('shifted');
                     }
                      // Re-create keyboard on breakpoint change if game is initialized
                     if (gameInstance) gameInstance.recreateKeyboard();
                 }
                 ScrollTrigger.refresh(); // Refresh GSAP triggers on resize
            }

            // Add Event Listeners for Navbar
            if (hamburger && sideMenu && overlay && contentContainer) {
                hamburger.addEventListener('click', toggleMenu);
                overlay.addEventListener('click', closeMenu);
                menuLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault(); // Prevent default anchor jump
                        const targetId = link.getAttribute('href');
                        const targetElement = document.querySelector(targetId);

                        if (targetElement) {
                            // Calculate offset considering potential fixed header (navbar height on mobile)
                            let offset = 0;
                             // if (isMobile) {
                             //    offset = document.querySelector('.navbar')?.offsetHeight || 65;
                             // }

                            gsap.to(window, {
                                duration: 1,
                                scrollTo: {
                                    y: targetElement,
                                    offsetY: offset, // Adjust scroll target position
                                    autoKill: false
                                },
                                ease: 'power2.inOut',
                                onComplete: closeMenu // Close menu after scrolling
                            });
                        } else {
                            console.warn(`Navigation target not found: ${targetId}`);
                            closeMenu(); // Close menu even if target not found
                        }
                    });
                });
            } else {
                console.error("Navbar elements not found!");
            }

            // --- END: Navbar JS Logic ---


             // --- Vanta.js Waves Effect ---
             function initVanta() {
                 if (vantaEffect) { vantaEffect.destroy(); vantaEffect = null; }
                 const heroBg = document.querySelector("#hero .hero-bg"); // Target specific div now
                 if (!heroBg) return;

                  // Always apply fallback first
                  heroBg.style.backgroundColor = 'transparent'; // Let section control color
                  const heroSection = document.getElementById('hero');
                  if (heroSection) heroSection.style.backgroundColor = '#1a1a2e'; // Section fallback

                  if (typeof VANTA !== 'undefined') {
                     try {
                         vantaEffect = VANTA.WAVES({
                            el: heroBg, // Target the specific div
                            mouseControls: true, touchControls: false, gyroControls: false,
                            color: 0x111111, shininess: 25.00, waveHeight: 10.00, waveSpeed: 0.70, zoom: 0.90,
                            minHeight: 200.00, minWidth: 200.00, scale: 1.00, scaleMobile: 1.00
                         });
                         console.log("Vanta Initialized");
                          if (heroSection) heroSection.style.backgroundColor = 'transparent'; // Remove section fallback if vanta works
                     } catch (e) {
                         console.error("Vanta.js initialization failed:", e);
                     }
                 }
             }


            // --- Helper Functions ---
            function createShapes() { /* (Unchanged) */
                const shapesContainer = document.querySelector('.floating-shapes'); if (!shapesContainer) return; shapesContainer.innerHTML = ''; const shapeCount = isMobile ? 6 : 12;
                for (let i = 0; i < shapeCount; i++) { const shape = document.createElement('div'); shape.classList.add('shape'); const size = Math.random() * (isMobile ? 35 : 60) + 15; const left = Math.random() * 100; const delay = Math.random() * 5; const duration = Math.random() * 10 + 12; shape.style.width = `${size}px`; shape.style.height = `${size}px`; shape.style.left = `${left}%`; shape.style.animationDuration = `${duration}s`; shape.style.animationDelay = `${delay}s`; shapesContainer.appendChild(shape); }
            }
            function createScrollLines() { /* (Unchanged) */
                document.querySelectorAll('.scroll-line').forEach(line => line.remove()); if (isMobile) return; if (document.querySelector('.scroll-line')) return; const body = document.querySelector('.page-wrapper') || document.body; const lineCount = 4;
                for (let i = 0; i < lineCount; i++) { const line = document.createElement('div'); line.classList.add('scroll-line'); const left = Math.random() * 100; line.style.left = `${left}%`; body.appendChild(line); gsap.to(line, { scrollTrigger: { trigger: body, start: 'top top', end: 'bottom bottom', scrub: 2 + Math.random() * 2 }, height: '100vh', ease: 'none' }); }
            }

            // Store ScrollTrigger instances to kill them on resize
            let scrollTriggers = [];
            function killScrollTriggers() {
                scrollTriggers.forEach(st => st.kill());
                scrollTriggers = [];
                ScrollTrigger.getAll().forEach(st => { if (!scrollTriggers.includes(st)) { st.kill(); } });
            }

            // --- Animations Setup ---
            function initScrollAnimations() {
                killScrollTriggers();

                // Hero animation
                 const heroTl = gsap.timeline({
                      scrollTrigger: { trigger: '#hero', start: 'top 70%' } // Trigger later
                 })
                    .to('.hero-title', { opacity: 1, y: 0, duration: 1, delay: 0.1, ease: 'power2.out' })
                    .to('.hero-subtitle', { opacity: 1, y: 0, duration: 1, ease: 'power2.out' }, "-=0.8");
                 scrollTriggers.push(heroTl.scrollTrigger);

                // About Section
                 const aboutTl = gsap.timeline({
                    scrollTrigger: { trigger: '#about', start: 'top 80%' }
                 })
                 .to('.about-text', { opacity: 1, y: 0, x: 0, duration: 0.8, ease: 'power2.out' })
                 .to('.about-image', { opacity: 1, y: 0, x: 0, duration: 0.8, ease: 'power2.out' }, "-=0.6");
                 scrollTriggers.push(aboutTl.scrollTrigger);

                 const aboutImgInnerSt = ScrollTrigger.create({
                    trigger: '.about-image',
                    start: 'top 75%',
                    animation: gsap.from('.about-image-inner', {
                         scale: 1.2, rotation: isMobile ? 0 : -10, duration: 1.2, ease: 'power3.out'
                    })
                 });
                 scrollTriggers.push(aboutImgInnerSt);


                // Section Titles Appear
                gsap.utils.toArray('.skills-title, .projects-title, .contact-title, .game-title').forEach(title => {
                     const st = ScrollTrigger.create({
                         trigger: title,
                         start: 'top 85%',
                         animation: gsap.to(title, { opacity: 1, y: 0, duration: 0.8, ease: 'power2.out' }),
                         toggleActions: "play none none none"
                     });
                     scrollTriggers.push(st);
                 });

                // Skill Cards Appear & Progress Bars
                 gsap.utils.toArray('.skill-card').forEach((card, index) => {
                    const progressBar = card.querySelector('.skill-progress');
                    const width = progressBar ? progressBar.dataset.width : '0';
                    const cardTl = gsap.timeline({
                        scrollTrigger: { trigger: card, start: 'top 90%', toggleActions: 'play none none none' }
                    });
                    cardTl.to(card, { opacity: 1, y: 0, duration: 0.6, ease: 'power1.out', delay: isMobile ? index * 0.08 : 0 });
                     if (progressBar) { cardTl.to(progressBar, { width: `${width}%`, duration: 1.2, ease: 'power2.inOut' }, "+=0.1"); }
                     scrollTriggers.push(cardTl.scrollTrigger);
                 });


                // Parallax Section Items - ENTRY Animation
                 gsap.utils.toArray('#skills-parallax .skill-item, #skills-parallax .programming-card').forEach((item, i) => {
                     const st = ScrollTrigger.create({
                        trigger: item, start: 'top 90%',
                        animation: gsap.to(item, { duration: 0.8, y: 0, opacity: 1, ease: 'power2.out', delay: i * 0.1 }),
                        toggleActions: 'play none none none'
                     });
                     scrollTriggers.push(st);
                 });


                // Project Cards Appear (Batch)
                 const projectBatchSt = ScrollTrigger.batch(".project-card", {
                    interval: 0.1, batchMax: isMobile ? 2 : 4, start: "top 90%",
                    onEnter: batch => gsap.to(batch, { opacity: 1, y: 0, duration: 0.6, ease: 'power1.out', stagger: 0.1 }),
                 });
                  if (Array.isArray(projectBatchSt)) scrollTriggers.push(...projectBatchSt);


                // Contact Section Elements (ID Card) - MODIFIED
                 const contactTl = gsap.timeline({
                     scrollTrigger: { trigger: '#contact', start: 'top 80%' } // Keep trigger the same
                 });
                 // Removed .contact-description animation
                 // Add animation for the .id-card
                 contactTl.to('.id-card', {
                     opacity: 1,
                     y: 0,
                     duration: 0.8,
                     ease: 'power2.out'
                     // Delay is handled by CSS transition now, but can be added here if needed
                 }); // This will play after the title (if title animation exists and triggers first) or based on the section trigger
                 scrollTriggers.push(contactTl.scrollTrigger);

            }

            // --- Horizontal Scroll for Skills Section - REVISED ---
            function initSkillsHorizontalScroll() {
    const scrollContainer = document.querySelector('.horizontal-scroll');
    const scrollWrapper = document.querySelector('.horizontal-scroll-container');
    const skillsSection = document.querySelector('#skills');
    
    if (!scrollContainer || !scrollWrapper || !skillsSection) return;
    
    if (isMobile) {
        scrollWrapper.style.overflowX = 'auto';
        gsap.set(scrollContainer, { clearProps: 'all' });
        skillsSection.classList.remove('gsap-pin-active');
    } else {
        scrollWrapper.style.overflowX = 'hidden';
        
        const maxScroll = scrollContainer.scrollWidth - scrollWrapper.offsetWidth;
        const extraOffset = 1200; // افزایش فاصله اضافی
        gsap.set(scrollContainer, { x: -maxScroll + 700 });
        
        const st = ScrollTrigger.create({
            trigger: skillsSection,
            start: 'top top',
            end: () => "+=" + (maxScroll + extraOffset),
            pin: true,
            scrub: true,
            invalidateOnRefresh: true,
            // markers: true, // فعال کن برای دیباگ
            onUpdate: (self) => {
                const totalDistance = maxScroll + extraOffset;
                const newX = -maxScroll + 700 + totalDistance * self.progress;
                gsap.to(scrollContainer, {
                    duration: 0.4, // افزایش مدت زمان tween برای حرکت نرم‌تر
                    x: newX,
                    ease: "power3.out",
                    overwrite: "auto"
                });
            }
        });
        scrollTriggers.push(st);
    }
}

             // --- Parallax Effects for #skills-parallax (Desktop Only) - REVISED ---
             function initParallaxEffects() {
                 if (isMobile) return; // Only run on desktop

                 const parallaxSection = document.querySelector('#skills-parallax');
                 if (!parallaxSection) return;

                 // Kill existing parallax triggers first - more specific targeting
                 scrollTriggers = scrollTriggers.filter(st => {
                     const isParallaxTrigger = st.vars.trigger === parallaxSection && st.vars.scrub && st.animation && (
                         st.animation.targets().some(target => target.classList.contains('skill-item') || target.classList.contains('programming-card'))
                     );
                     if (isParallaxTrigger) {
                         // console.log("Killing old parallax trigger");
                         st.kill();
                         return false; // Remove from array
                     }
                     return true; // Keep other triggers
                 });


                 gsap.utils.toArray('#skills-parallax .skill-item, #skills-parallax .programming-card').forEach((item) => {
                     let yPercentValue = (Math.random() * -15) - 10; // Random upward movement (-10 to -25)
                     let xPercentValue = (Math.random() - 0.5) * 15; // Random horizontal drift (-7.5 to +7.5)
                     let scrubValue = 1.5 + Math.random() * 1;

                     const st = ScrollTrigger.create({
                         trigger: parallaxSection,
                         start: "top bottom", // Start when section bottom hits viewport top
                         end: "bottom top", // End when section top hits viewport bottom
                         scrub: scrubValue,
                         animation: gsap.to(item, { yPercent: yPercentValue, xPercent: xPercentValue, ease: "none" }),
                         // markers: true // DEBUG
                     });
                      scrollTriggers.push(st);
                 });
             }

            // --- Navigation (REMOVED) ---
            // function initNavigation() { /* ... */ }


             // --- Word Game Logic with Virtual Keyboard ---
            function initGame() { /* (Unchanged - relies on isMobile flag) */
                 const letterBoxes = document.querySelectorAll('.letter-box');
                 const gameMessage = document.querySelector('.game-message');
                 const usedLettersContainer = document.querySelector('.used-letters');
                 const winMessage = document.querySelector('.win-message');
                 const callSection = document.querySelector('.call-section');
                 const keyboardContainer = document.getElementById('gameKeyboard');

                 if (!letterBoxes.length || !gameMessage || !usedLettersContainer || !winMessage || !callSection || !keyboardContainer) {
                     console.warn("Game elements not found, skipping game init.");
                     return { cleanup: () => {}, recreateKeyboard: () => {}, reset: () => {} }; // Return dummy object
                 }

                 const correctWord = 'بازی';
                 let guessedWord = Array(correctWord.length).fill('');
                 let correctLettersFound = 0;
                 let guessedLetters = new Set();
                 let gameWon = false;
                 const keyboardLayout = [ /* Persian Keyboard Layout */
                    ['ض', 'ص', 'ث', 'ق', 'ف', 'غ', 'ع', 'ه', 'خ', 'ح', 'ج'],
                    ['چ', 'ش', 'س', 'ی', 'ب', 'ل', 'ا', 'ت', 'ن', 'م', 'ک', 'گ'],
                    [ 'ظ', 'ط', 'ز', 'ر', 'ذ', 'د', 'پ', 'و', '؟']
                 ];

                 function resetGame() { /* ... Reset logic ... */
                      guessedWord = Array(correctWord.length).fill(''); correctLettersFound = 0; guessedLetters.clear(); gameWon = false;
                      letterBoxes.forEach(box => { box.textContent = ''; box.classList.remove('correct'); });
                      usedLettersContainer.innerHTML = '';
                      gameMessage.textContent = isMobile ? 'حروف را از کیبورد پایین انتخاب کنید...' : 'حروف را با کیبورد فارسی تایپ کنید...';
                      winMessage.style.display = 'none'; callSection.classList.remove('active');
                      keyboardContainer.querySelectorAll('.key').forEach(key => key.disabled = false);
                 }

                 function handleGuess(letter) { /* ... Guess logic ... */
                     if (gameWon || !letter) return; const normalizedLetter = letter.replace(/ي/g, 'ی').replace(/ك/g, 'ک'); if (guessedLetters.has(normalizedLetter)) return;
                     if (!/^[\u0600-\u06FF؟]$/.test(normalizedLetter)) { if (letter.match(/[a-zA-Z]/)) gameMessage.textContent = 'لطفاً از کیبورد فارسی استفاده کنید.'; return; }
                     guessedLetters.add(normalizedLetter); let found = false;
                     correctWord.split('').forEach((correctLetter, i) => { if (correctLetter === normalizedLetter && guessedWord[i] === '') { guessedWord[i] = normalizedLetter; const box = letterBoxes[i]; box.textContent = normalizedLetter; box.classList.add('correct'); correctLettersFound++; found = true; } });
                     if (found) { if (correctLettersFound === correctWord.length) { gameMessage.textContent = ''; winMessage.style.display = 'block'; gameWon = true; gsap.fromTo(winMessage, {opacity: 0, y: 10}, {opacity: 1, y: 0, duration: 0.5, delay: 0.2}); setTimeout(() => { callSection.classList.add('active'); }, 700); } else { gameMessage.textContent = 'عالی! حرف درستی بود.'; } } else { const usedLetterElem = document.createElement('div'); usedLetterElem.className = 'used-letter'; usedLetterElem.textContent = normalizedLetter; usedLettersContainer.appendChild(usedLetterElem); gsap.fromTo(usedLetterElem, {opacity: 0, scale: 0.5}, {opacity: 1, scale: 1, duration: 0.3}); gameMessage.textContent = `حرف "${normalizedLetter}" در کلمه نیست.`; }
                      const keyButton = keyboardContainer.querySelector(`.key[data-key="${normalizedLetter}"]`); if (keyButton) keyButton.disabled = true;
                 }

                 function createKeyboard() { /* ... Create keyboard logic ... */
                    keyboardContainer.innerHTML = '';
                    if (!isMobile) { keyboardContainer.style.display = 'none'; return; }
                     keyboardContainer.style.display = 'flex';
                    keyboardLayout.forEach(rowLetters => { const rowDiv = document.createElement('div'); rowDiv.className = 'keyboard-row'; rowLetters.forEach(letter => { const keyButton = document.createElement('button'); keyButton.className = 'key'; keyButton.textContent = letter; keyButton.dataset.key = letter; rowDiv.appendChild(keyButton); }); keyboardContainer.appendChild(rowDiv); });
                 }

                 const keydownHandler = function(event) { handleGuess(event.key); };
                 document.addEventListener('keydown', keydownHandler);
                 const keyboardClickHandler = function(event) { if (event.target.classList.contains('key') && !event.target.disabled) { handleGuess(event.target.dataset.key); } };
                 keyboardContainer.addEventListener('click', keyboardClickHandler);

                 createKeyboard(); resetGame();

                 return { cleanup: () => { document.removeEventListener('keydown', keydownHandler); keyboardContainer.removeEventListener('click', keyboardClickHandler); keyboardContainer.innerHTML = ''; console.log("Game listeners cleaned up."); }, recreateKeyboard: createKeyboard, reset: resetGame };
            }


            // --- Resize Handling ---
            function debounce(func, wait) { /* (Unchanged debounce) */
                var timeout; return function() { var context = this, args = arguments; var later = function() { timeout = null; func.apply(context, args); }; clearTimeout(timeout); timeout = setTimeout(later, wait); };
            };

             let gameInstance = null;

             const handleResize = debounce(() => {
                 console.log("Resizing...");
                 // Update window width state for navbar logic FIRST
                 updateWindowWidthLogic();

                 // Recreate layout-dependent things
                 initVanta();
                 createShapes();
                 createScrollLines();

                 // Kill old triggers FIRST, then re-initialize everything dependent on layout
                 killScrollTriggers(); // Kill all triggers managed by the array
                 ScrollTrigger.refresh(true); // Refresh ScrollTrigger's internal state

                 // Re-init animations and scroll triggers
                 initScrollAnimations(); // Re-creates entry animations
                 initSkillsHorizontalScroll(); // Re-creates horizontal scroll logic
                 initParallaxEffects(); // Re-creates parallax logic

                 console.log("Layouts and triggers refreshed after resize.");

             }, 250);


             window.addEventListener('resize', handleResize);

            // --- Initial Function Calls ---
            updateWindowWidthLogic(); // Set initial width state
            initVanta();
            createShapes();
            createScrollLines();
            initScrollAnimations();
            initSkillsHorizontalScroll();
            initParallaxEffects();
            // initNavigation(); // Removed
            gameInstance = initGame();


            // --- Cleanup on page unload ---
             window.addEventListener('beforeunload', () => {
                 if (gameInstance) gameInstance.cleanup();
                 killScrollTriggers();
                 window.removeEventListener('resize', handleResize);
                 if (vantaEffect) vantaEffect.destroy();
                 console.log("Page cleanup complete.");
             });


        }); // End DOMContentLoaded
    </script>

</body>
</html>